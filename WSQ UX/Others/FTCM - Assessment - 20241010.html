<!DOCTYPE html>
<!-- saved from url=(0040)https://exam.finadvice.ai/assessment/52/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FTCM - Assessment - 20241010</title>
    <link href="./FTCM - Assessment - 20241010_files/bootstrap.min.css" rel="stylesheet">
    
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div id="navbarNav" class="collapse navbar-collapse">
            
                
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="https://exam.finadvice.ai/logout/">Logout</a>
                    </li>
                </ul>
            
        </div>
    </nav>

    <div class="container mt-4">
        

<h1>FTCM - Assessment - 20241010</h1>

<form id="assessment-form" method="post">
    <input type="hidden" name="csrfmiddlewaretoken" value="i2VPGhZYVmEnNagfjG45wMbXoT98mVBYedXjy177vJCb3IIlvXlQPwiQwChWcBnW">

    <div class="mb-3">
        Name: <span id="name">Foo Siew Heng @ Sarah Abdullah Foo</span>
    </div>

    
    <div class="mb-3">
        <h3>Master Prompt:</h3>
        <p>Please keep responses to 100 words. Try to be original and creative in the repsonse.</p>
    </div>
    

    
    <div class="mb-3">
        <h4>Product</h4>
        <textarea name="subprompt_13" class="form-control sub-prompt" data-id="13" data-title="Product">light, compact portable projector used for watching videos on a wall instead of a TV. Compact size. Space-saving. Big screen entertainment for small spaces</textarea>
    </div>
    
    <div class="mb-3">
        <h4>Persona</h4>
        <textarea name="subprompt_14" class="form-control sub-prompt" data-id="14" data-title="Persona">Male, Aged 40, Singapore
Values: Quality, low price, convenience</textarea>
    </div>
    

    <div style="display:none;" id="debug-info">
        
            <p>Question 394: </p>
        
            <p>Question 395: </p>
        
            <p>Question 396: </p>
        
            <p>Question 397: </p>
        
            <p>Question 398: </p>
        
            <p>Question 399: </p>
        
            <p>Question 400: </p>
        
            <p>Question 401: </p>
        
            <p>Question 402: </p>
        
            <p>Question 403: </p>
        
            <p>Question 404: </p>
        
            <p>Question 405: </p>
        
            <p>Question 406: </p>
        
            <p>Question 407: </p>
        
    </div>

    
    <div class="mb-4">
        <h3>What are the 4 main information categories of a persona’s background?</h3>
        <div class="mb-2">
            <textarea id="question_394" name="question_394" class="form-control question-response" rows="10"></textarea>
        </div>
        
        <button type="button" class="btn btn-primary get-prompt" data-question-id="394" style="display:none;">Get Hint</button>
        
        
        <div id="llm-prompt-394" class="llm-prompt mt-2" style="display: none;"></div>
    </div>
    
    <div class="mb-4">
        <h3>List broadcast media types and what broadcast media is typically used for.</h3>
        <div class="mb-2">
            <textarea id="question_395" name="question_395" class="form-control question-response" rows="10"></textarea>
        </div>
        
        <button type="button" class="btn btn-primary get-prompt" data-question-id="395" style="display:none;">Get Hint</button>
        
        
        <div id="llm-prompt-395" class="llm-prompt mt-2" style="display: none;"></div>
    </div>
    
    <div class="mb-4">
        <h3>To pick the right media for your copy, copywriters need to consider….what?</h3>
        <div class="mb-2">
            <textarea id="question_396" name="question_396" class="form-control question-response" rows="10"></textarea>
        </div>
        
        <button type="button" class="btn btn-primary get-prompt" data-question-id="396" style="display:none;">Get Hint</button>
        
        
        <div id="llm-prompt-396" class="llm-prompt mt-2" style="display: none;"></div>
    </div>
    
    <div class="mb-4">
        <h3>What are the key characteristics of a storyboard?</h3>
        <div class="mb-2">
            <textarea id="question_397" name="question_397" class="form-control question-response" rows="10"></textarea>
        </div>
        
        <button type="button" class="btn btn-primary get-prompt" data-question-id="397" style="display:none;">Get Hint</button>
        
        
        <div id="llm-prompt-397" class="llm-prompt mt-2" style="display: none;"></div>
    </div>
    
    <div class="mb-4">
        <h3>What are the upsides and downsides to producing moving images?</h3>
        <div class="mb-2">
            <textarea id="question_398" name="question_398" class="form-control question-response" rows="10"></textarea>
        </div>
        
        <button type="button" class="btn btn-primary get-prompt" data-question-id="398" style="display:none;">Get Hint</button>
        
        
        <div id="llm-prompt-398" class="llm-prompt mt-2" style="display: none;"></div>
    </div>
    
    <div class="mb-4">
        <h3>What are the legal constraints for copywriters?</h3>
        <div class="mb-2">
            <textarea id="question_399" name="question_399" class="form-control question-response" rows="10"></textarea>
        </div>
        
        <button type="button" class="btn btn-primary get-prompt" data-question-id="399" style="display:none;">Get Hint</button>
        
        
        <div id="llm-prompt-399" class="llm-prompt mt-2" style="display: none;"></div>
    </div>
    
    <div class="mb-4">
        <h3>Pitch</h3>
        <div class="mb-2">
            <textarea id="question_400" name="question_400" class="form-control question-response" rows="10"></textarea>
        </div>
        
        
        <button type="button" class="btn btn-primary get-prompt" data-question-id="400">Get Prompt</button>
        <button type="button" class="btn btn-success send-prompt" data-question-id="400">Send Prompt</button>
        
        <div id="llm-prompt-400" class="llm-prompt mt-2" style="display: none;"></div>
    </div>
    
    <div class="mb-4">
        <h3>Headline</h3>
        <div class="mb-2">
            <textarea id="question_401" name="question_401" class="form-control question-response" rows="10"></textarea>
        </div>
        
        
        <button type="button" class="btn btn-primary get-prompt" data-question-id="401">Get Prompt</button>
        <button type="button" class="btn btn-success send-prompt" data-question-id="401">Send Prompt</button>
        
        <div id="llm-prompt-401" class="llm-prompt mt-2" style="display: none;"></div>
    </div>
    
    <div class="mb-4">
        <h3>Ad copy</h3>
        <div class="mb-2">
            <textarea id="question_402" name="question_402" class="form-control question-response" rows="10"></textarea>
        </div>
        
        
        <button type="button" class="btn btn-primary get-prompt" data-question-id="402">Get Prompt</button>
        <button type="button" class="btn btn-success send-prompt" data-question-id="402">Send Prompt</button>
        
        <div id="llm-prompt-402" class="llm-prompt mt-2" style="display: none;"></div>
    </div>
    
    <div class="mb-4">
        <h3>Brand voice</h3>
        <div class="mb-2">
            <textarea id="question_403" name="question_403" class="form-control question-response" rows="10"></textarea>
        </div>
        
        
        <button type="button" class="btn btn-primary get-prompt" data-question-id="403">Get Prompt</button>
        <button type="button" class="btn btn-success send-prompt" data-question-id="403">Send Prompt</button>
        
        <div id="llm-prompt-403" class="llm-prompt mt-2" style="display: none;"></div>
    </div>
    
    <div class="mb-4">
        <h3>Check grammar</h3>
        <div class="mb-2">
            <textarea id="question_404" name="question_404" class="form-control question-response" rows="10"></textarea>
        </div>
        
        
        <button type="button" class="btn btn-primary get-prompt" data-question-id="404">Get Prompt</button>
        <button type="button" class="btn btn-success send-prompt" data-question-id="404">Send Prompt</button>
        
        <div id="llm-prompt-404" class="llm-prompt mt-2" style="display: none;"></div>
    </div>
    
    <div class="mb-4">
        <h3>Storyboard for social media video</h3>
        <div class="mb-2">
            <textarea id="question_405" name="question_405" class="form-control question-response" rows="10"></textarea>
        </div>
        
        
        <button type="button" class="btn btn-primary get-prompt" data-question-id="405">Get Prompt</button>
        <button type="button" class="btn btn-success send-prompt" data-question-id="405">Send Prompt</button>
        
        <div id="llm-prompt-405" class="llm-prompt mt-2" style="display: none;"></div>
    </div>
    
    <div class="mb-4">
        <h3>Schedule and budgetary requirements for video production</h3>
        <div class="mb-2">
            <textarea id="question_406" name="question_406" class="form-control question-response" rows="10"></textarea>
        </div>
        
        
        <button type="button" class="btn btn-primary get-prompt" data-question-id="406">Get Prompt</button>
        <button type="button" class="btn btn-success send-prompt" data-question-id="406">Send Prompt</button>
        
        <div id="llm-prompt-406" class="llm-prompt mt-2" style="display: none;"></div>
    </div>
    
    <div class="mb-4">
        <h3>Your initials which act as an e-signature</h3>
        <div class="mb-2">
            <textarea id="question_407" name="question_407" class="form-control question-response" rows="10"></textarea>
        </div>
        
        <button type="button" class="btn btn-primary get-prompt" data-question-id="407" style="display:none;">Get Hint</button>
        
        
        <div id="llm-prompt-407" class="llm-prompt mt-2" style="display: none;"></div>
    </div>
    

    <div id="save-status" class="mb-3"></div>

    <button type="button" id="submit-assessment" class="btn btn-danger">Submit for review</button>

</form>

    </div>

    <script src="./FTCM - Assessment - 20241010_files/bootstrap.bundle.min.js.download"></script>
    
<script>
document.addEventListener('DOMContentLoaded', function() {    
    const saveButtons = document.querySelectorAll('.save-button');
    const getPromptButtons = document.querySelectorAll('.get-prompt');
    const sendPromptButtons = document.querySelectorAll('.send-prompt');
    const submitButton = document.getElementById('submit-assessment');
    const saveStatus = document.getElementById('save-status');
    const csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;
    const form = document.getElementById('assessment-form');
    let saveTimeout;


    if (!form) {
        console.error('Assessment form not found');
        return;
    }

    if (!submitButton) {
        console.error('Submit button not found');
        return;
    }

    // Auto-save functionality
    if (form) {
        form.addEventListener('input', function(e) {
            if (e.target.tagName === 'TEXTAREA') {
                clearTimeout(saveTimeout);
                saveTimeout = setTimeout(autoSave, 1000);
            }
        });
    } else {
        console.error('Form not found');
    }

    function autoSave() {
        saveStatus.textContent = 'Saving...';
        const formData = new FormData(form);
        formData.append('action', 'save');

        // Add subprompt data to formData
        document.querySelectorAll('.sub-prompt').forEach(subPrompt => {
            formData.append(`subprompt_${subPrompt.dataset.id}`, subPrompt.value);
        });

        fetch('/assessment/52/', {
    method: 'POST',
    body: formData,
    headers: {
        'X-CSRFToken': csrfToken,
        'X-Requested-With': 'XMLHttpRequest'
    }
})
        .then(response => response.json())
        .then(data => {
            if (data.status === 'success') {
                saveStatus.textContent = 'Saved';
                setTimeout(() => {
                    saveStatus.textContent = '';
                }, 2000);
            } else {
                saveStatus.textContent = 'Save failed. Please try again.';
            }
        })
        .catch(error => {
            console.error('Error:', error);
            saveStatus.textContent = 'Save failed. Please try again.';
        });
    }

    // Existing save functionality
    saveButtons.forEach(button => {
        button.addEventListener('click', function(e) {
            e.preventDefault();
            autoSave();
        });
    });

// Get prompt functionality
getPromptButtons.forEach(button => {
    button.addEventListener('click', function() {
        const questionId = this.dataset.questionId;
        if (questionId) {
            fetch(`/get-llm-prompt/${questionId}/`)
                .then(response => response.json())
                .then(data => {
                    const textarea = document.querySelector(`textarea[name="question_${questionId}"]`);
                    if (textarea) {
                        const existingText = textarea.value.trim();
                        const promptText = data.prompt.trim();
                        const newText = existingText + 
                            (existingText ? '\n\n' : '') + 
                            'Response:\n' + promptText;
                        textarea.value = newText;
                        autoSave();  // Trigger auto-save after getting prompt
                    }
                })
                .catch(error => console.error('Error:', error));
        } else {
            console.error('No question ID found');
        }
    });
});

   // Send prompt functionality
sendPromptButtons.forEach(button => {
    button.addEventListener('click', function() {
        const questionId = this.dataset.questionId;
        const moduleId = '52';
        const textarea = document.querySelector(`textarea[name="question_${questionId}"]`);
        const userInput = textarea.value;
        
        // Gather sub prompts
        const subPrompts = Array.from(document.querySelectorAll('.sub-prompt')).map(el => {
            return `${el.dataset.title}: ${el.value.trim()}`;
        }).join('\n');
        
        const masterPrompt = 'Please keep responses to 100 words. Try to be original and creative in the repsonse.';
        
        fetch('/llm-api-call/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded',
                'X-CSRFToken': csrfToken,
                'X-Requested-With': 'XMLHttpRequest'
            },
            body: new URLSearchParams({
                'module_id': moduleId,
                'question_id': questionId,
                'user_input': userInput,
                'sub_prompts': subPrompts,
                'master_prompt': masterPrompt
            })
        })
        .then(response => response.json())
        .then(data => {
            if (data.response) {
                // Append the response to the textarea
                const existingText = textarea.value.trim();
                const newText = existingText + 
                    (existingText ? '\n\n' : '') + 
                    'Response:\n' + data.response;
                textarea.value = newText;
                
                // Trigger auto-save
                autoSave();
                
                // Update the llm-prompt div
                //document.querySelector(`#llm-prompt-${questionId}`).textContent = data.response;
                //document.querySelector(`#llm-prompt-${questionId}`).style.display = 'block';
            } else {
                console.error('Error:', data.error);
            }
        })
        .catch(error => console.error('Error:', error));
    });
});

// Submit assessment functionality
if (submitButton) {
    submitButton.addEventListener('click', function(e) {
        e.preventDefault();
        console.log('Submit button clicked');
        const formData = new FormData(form);
        formData.append('action', 'submit');

        console.log('Form data:', Object.fromEntries(formData));

        fetch('/assessment/52/', {
            method: 'POST',
            body: formData,
            headers: {
                'X-CSRFToken': csrfToken,
                'X-Requested-With': 'XMLHttpRequest'
            }
        })
        .then(response => {
            console.log('Response status:', response.status);
            return response.json();
        })
        .then(data => {
            console.log('Response data:', data);
            if (data.status === 'success') {
                window.location.href = '/';
            } else {
                alert('Submission failed. Please try again.');
            }
        })
        .catch(error => {
            console.error('Error:', error);
            alert('Submission failed. Please try again.');
        });
    });
}
});
</script>


  </body></html>